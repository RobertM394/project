<%- include('partials/header.ejs') %>

<script>

$(document).ready(function(){
    
    //global variables
    var itemsPrice = 0.00;
    
    
var customerCart = [ {albumID:0, title:"Abbey Road", artist:"The Beatles", coverImage: '<img src="/img/abbeyroad.jpg" alt="Abbey Road - Beatles">', price:25.00}, 
{albumID:1, title:"Let There Be Cello", artist:"2 Cellos", coverImage: '<img src="/img/2cellos1.jpg" alt="Let There Be Cello - 2 Cellos">',  price:25.00},
{albumID:2, title:"Rubber Soul", artist:"The Beatles", coverImage: '<img src="/img/rubbersoul.jpg" alt="Rubber Soul - Beatles">',  price:25.00}

];

customerCart.forEach(function(element){
    
$("#cartList").append(`${element.coverImage} <br /> Artist: ${element.artist} Title: ${element.title} Price: $${element.price} <br />`);   
$("#cartList").append(`<button id="btnRemoveItem" type="button" class="btn btn-warning"> Remove Item </button> <br /> <br />`);
    itemsPrice = itemsPrice + element.price;

});

//function to calculate and display cart price totals
calculateTotals(); 

function calculateTotals(){
    
    let tax = itemsPrice * 0.06;
    let shipping = 0.00;
    let total = itemsPrice + tax + shipping;
    
    
    $("#itemsPrice").html(`Items: $${itemsPrice}`);
    $("#taxTotal").html(`Items: $${tax}`);
    $("#orderTotal").html(`Items: $${total}`);
    
    
}//calculate totals


});//document ready
    
</script>

<h1 style="text-align: left"> Shopping Cart </h1>
<hr /> 
<div id="cartList">
 
</div>

<div id="priceTotals">
    <h5> Order Summary </h5>
    <p id = "itemsPrice"> Items: $0.00 </p>
    <p id = "shippingPrice"> Shipping: $0.00 </p>
    <hr />
    <p id="orderTotal"> Order Total: $0.00 </p>
    
</div>

   </body>
</html>